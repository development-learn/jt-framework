import{b as B,u as U,U as D,i as M,a as A,c as L,C as pe,r as G,d as ce,e as E,f as me,g as fe,h as S,j as F,o as C,k,l as h,w as j,v as q,m as e,n as J,p as g,q as P,s as T,_ as x,t as H,x as v,y as V,z as be,A as _e,B as ve,D as ge,E as O,F as ye,G as N,H as Ie,I as Ee,J as he,K as Se,L as W,M as we,N as Ve,O as Be,P as $,Q as Ce,R as ke,S as n,T as i,V as Re,W as ze,X as $e,Y as Ge,Z as Ne,$ as De,a0 as Fe,a1 as Pe,a2 as Te,a3 as xe}from"./index-7cb4597a.js";import{E as Ke,a as Me,b as Ae}from"./select-80979e20.js";import{E as Le,a as Ue,b as je}from"./form-item-2ab73a10.js";const Q=B({size:U,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),qe=B({...Q,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),X={[D]:s=>M(s)||A(s)||L(s),[pe]:s=>M(s)||A(s)||L(s)},Y=Symbol("radioGroupKey"),Z=(s,b)=>{const a=G(),o=ce(Y,void 0),u=E(()=>!!o),_=E({get(){return u.value?o.modelValue:s.modelValue},set(p){u.value?o.changeEvent(p):b&&b(D,p),a.value.checked=s.modelValue===s.label}}),c=me(E(()=>o==null?void 0:o.size)),d=fe(E(()=>o==null?void 0:o.disabled)),r=G(!1),f=E(()=>d.value||u.value&&_.value!==s.label?-1:0);return{radioRef:a,isGroup:u,radioGroup:o,focus:r,size:c,disabled:d,tabIndex:f,modelValue:_}},Je=["value","name","disabled"],He=S({name:"ElRadio"}),Oe=S({...He,props:qe,emits:X,setup(s,{emit:b}){const a=s,o=F("radio"),{radioRef:u,radioGroup:_,focus:c,size:d,disabled:r,modelValue:f}=Z(a,b);function p(){H(()=>b("change",f.value))}return(t,l)=>{var m;return C(),k("label",{class:g([e(o).b(),e(o).is("disabled",e(r)),e(o).is("focus",e(c)),e(o).is("bordered",t.border),e(o).is("checked",e(f)===t.label),e(o).m(e(d))])},[h("span",{class:g([e(o).e("input"),e(o).is("disabled",e(r)),e(o).is("checked",e(f)===t.label)])},[j(h("input",{ref_key:"radioRef",ref:u,"onUpdate:modelValue":l[0]||(l[0]=I=>J(f)?f.value=I:null),class:g(e(o).e("original")),value:t.label,name:t.name||((m=e(_))==null?void 0:m.name),disabled:e(r),type:"radio",onFocus:l[1]||(l[1]=I=>c.value=!0),onBlur:l[2]||(l[2]=I=>c.value=!1),onChange:p},null,42,Je),[[q,e(f)]]),h("span",{class:g(e(o).e("inner"))},null,2)],2),h("span",{class:g(e(o).e("label")),onKeydown:l[3]||(l[3]=T(()=>{},["stop"]))},[P(t.$slots,"default",{},()=>[v(V(t.label),1)])],34)],2)}}});var We=x(Oe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const Qe=B({...Q,name:{type:String,default:""}}),Xe=["value","name","disabled"],Ye=S({name:"ElRadioButton"}),Ze=S({...Ye,props:Qe,setup(s){const b=s,a=F("radio"),{radioRef:o,focus:u,size:_,disabled:c,modelValue:d,radioGroup:r}=Z(b),f=E(()=>({backgroundColor:(r==null?void 0:r.fill)||"",borderColor:(r==null?void 0:r.fill)||"",boxShadow:r!=null&&r.fill?`-1px 0 0 0 ${r.fill}`:"",color:(r==null?void 0:r.textColor)||""}));return(p,t)=>{var l;return C(),k("label",{class:g([e(a).b("button"),e(a).is("active",e(d)===p.label),e(a).is("disabled",e(c)),e(a).is("focus",e(u)),e(a).bm("button",e(_))])},[j(h("input",{ref_key:"radioRef",ref:o,"onUpdate:modelValue":t[0]||(t[0]=m=>J(d)?d.value=m:null),class:g(e(a).be("button","original-radio")),value:p.label,type:"radio",name:p.name||((l=e(r))==null?void 0:l.name),disabled:e(c),onFocus:t[1]||(t[1]=m=>u.value=!0),onBlur:t[2]||(t[2]=m=>u.value=!1)},null,42,Xe),[[q,e(d)]]),h("span",{class:g(e(a).be("button","inner")),style:be(e(d)===p.label?e(f):{}),onKeydown:t[3]||(t[3]=T(()=>{},["stop"]))},[P(p.$slots,"default",{},()=>[v(V(p.label),1)])],38)],2)}}});var ee=x(Ze,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const ea=B({id:{type:String,default:void 0},size:U,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),aa=X,oa=["id","aria-label","aria-labelledby"],ta=S({name:"ElRadioGroup"}),la=S({...ta,props:ea,emits:aa,setup(s,{emit:b}){const a=s,o=F("radio"),u=_e(),_=G(),{formItem:c}=ve(),{inputId:d,isLabeledByFormItem:r}=ge(a,{formItemContext:c}),f=t=>{b(D,t),H(()=>b("change",t))};O(()=>{const t=_.value.querySelectorAll("[type=radio]"),l=t[0];!Array.from(t).some(m=>m.checked)&&l&&(l.tabIndex=0)});const p=E(()=>a.name||u.value);return ye(Y,N({...Ie(a),changeEvent:f,name:p})),Ee(()=>a.modelValue,()=>{a.validateEvent&&(c==null||c.validate("change").catch(t=>he()))}),(t,l)=>(C(),k("div",{id:e(d),ref_key:"radioGroupRef",ref:_,class:g(e(o).b("group")),role:"radiogroup","aria-label":e(r)?void 0:t.label||"radio-group","aria-labelledby":e(r)?e(c).labelId:void 0},[P(t.$slots,"default")],10,oa))}});var ae=x(la,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);Se(We,{RadioButton:ee,RadioGroup:ae});const na=W(ae),sa=W(ee);function ra(s={}){return we({url:`/api/dashboard/proxy/${s.instanceId}/api/dashboard-client/jt808/sessions`,method:"get",params:s})}const ia={p4:""},ca=S({__name:"Jt808SessionList",setup(s){var p,t;const b=Ve();Be();const a=N({instanceId:"",page:1,rows:0,pageSize:5,terminalId:"",version:"all"}),o=N({total:0,data:[]});O(()=>{d()});const u=(p=b.params)==null?void 0:p.instanceId,_=(t=b.params)==null?void 0:t.sim;u||$.error("instanceId is empty"),typeof u=="string"&&(a.instanceId=u),typeof _=="string"&&(a.terminalId=_);const c=()=>{a.version="all",a.terminalId="",d()},d=async()=>{try{const l=await ra({...a});Ce(l)?(o.data=l.data.records,o.total=l.data.total):(console.log(l),$.error(l.msg))}catch(l){$.error(l)}},r=l=>{a.page=l,d()},f=l=>{a.pageSize=l,d()};return(l,m)=>{const I=Pe,oe=ze,te=Ke,R=Le,z=sa,le=na,K=Ue,ne=je,w=Te,se=Me,re=ke("router-link"),ie=xe,de=Ae,ue=$e;return C(),k(Re,null,[h("nav",ia,[n(oe,{"separator-icon":e(Ge)},{default:i(()=>[n(I,{to:"/"},{default:i(()=>[v("Dashboard")]),_:1}),n(I,null,{default:i(()=>[v("808ServerInstance")]),_:1}),n(I,null,{default:i(()=>[v(V(a.instanceId)+"11",1)]),_:1})]),_:1},8,["separator-icon"])]),n(ue,{class:"box-card terminal-list-box",style:{"border-radius":"10px"}},{header:i(()=>[n(ne,{inline:"",size:"small",onSubmit:m[2]||(m[2]=T(()=>{},["prevent"]))},{default:i(()=>[n(R,{label:"终端ID / SIM"},{default:i(()=>[n(te,{modelValue:a.terminalId,"onUpdate:modelValue":m[0]||(m[0]=y=>a.terminalId=y),placeholder:"terminalId",onKeyup:Ne(d,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),n(R,{label:"版本"},{default:i(()=>[n(le,{modelValue:a.version,"onUpdate:modelValue":m[1]||(m[1]=y=>a.version=y),onChange:d},{default:i(()=>[n(z,{label:"all"},{default:i(()=>[v("All")]),_:1}),n(z,{label:"2019"},{default:i(()=>[v("V2019")]),_:1}),n(z,{label:"2013"},{default:i(()=>[v("V2013")]),_:1})]),_:1},8,["modelValue"])]),_:1}),n(R,null,{default:i(()=>[n(K,{type:"primary",onClick:d,icon:e(De)},{default:i(()=>[v("查询")]),_:1},8,["icon"]),n(K,{onClick:c,icon:e(Fe)},{default:i(()=>[v("重置")]),_:1},8,["icon"])]),_:1})]),_:1})]),default:i(()=>[n(ie,{data:o.data,border:"",stripe:"","w-full":""},{default:i(()=>[n(w,{type:"index",width:"50"}),n(w,{prop:"terminalId",label:"终端ID / SIM",width:"220"}),n(w,{prop:"version",label:"协议版本",width:"100","filter-placement":"bottom-end"},{default:i(y=>[n(se,{type:y.row.version==="2019"?"":"success","disable-transitions":""},{default:i(()=>[v(V(y.row.version),1)]),_:2},1032,["type"])]),_:1}),n(w,{prop:"createdAt",label:"会话建立时间",width:"200"}),n(w,{prop:"lastCommunicationTime",label:"最近一次通信时间"}),n(w,{fixed:"right",label:"操作",width:"100"},{default:i(({row:y})=>[n(re,{type:"primary",to:`/808-instance/${a.instanceId}/video-player/${y.terminalId}`},{default:i(()=>[v("音视频")]),_:2},1032,["to"])]),_:1})]),_:1},8,["data"]),n(de,{mt8:"","page-sizes":[5,10,20,30,50,100,200],"current-page":a.page,"page-size":a.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:o.total,onPagination:o.data,onSizeChange:f,onCurrentChange:r},null,8,["current-page","page-size","total","onPagination"])]),_:1})],64)}}});export{ca as default};
