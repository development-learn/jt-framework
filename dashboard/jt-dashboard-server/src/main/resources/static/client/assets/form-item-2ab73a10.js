import{b7 as st,b8 as ve,b9 as lt,ba as Pe,bb as ft,bc as Rt,bd as Lt,be as kt,bf as Wt,bg as ut,bh as We,bi as Dt,bj as dt,bk as Ie,bl as de,bm as ct,bn as zt,bo as Gt,bp as Ut,bq as Kt,br as Jt,bs as Yt,bt as Zt,bu as Ht,b as ye,ad as pt,ai as ce,bv as Qt,i as Se,c as gt,r as k,e as q,h as R,f as Ne,j as Q,I as pe,J as Xt,F as Ce,G as Ve,H as mt,bw as Me,o as V,k as re,q as D,p as W,m as v,_ as be,aF as vt,d as ne,bx as _e,by as er,E as yt,aC as bt,bz as tr,aq as rr,S as ge,V as ht,t as wt,al as Ft,A as nr,bA as ir,bB as De,bC as xe,T as H,a7 as Z,a8 as le,z as ze,x as ar,y as Ge,aa as me,l as Ue,bD as or,K as xt,L as At,aD as sr,bE as lr,B as fr,g as St,bF as ur,u as dr,a6 as Ke,bG as cr,bH as pr,a9 as Je,at as gr,ar as Ye}from"./index-7cb4597a.js";function mr(r,e){for(var t=-1,n=r==null?0:r.length;++t<n&&e(r[t],t,r)!==!1;);return r}function Oe(){if(!arguments.length)return[];var r=arguments[0];return st(r)?r:[r]}function vr(r,e){return r&&ve(e,lt(e),r)}function yr(r,e){return r&&ve(e,Pe(e),r)}function br(r,e){return ve(r,ft(r),e)}var hr=Object.getOwnPropertySymbols,wr=hr?function(r){for(var e=[];r;)Lt(e,ft(r)),r=kt(r);return e}:Rt;const _t=wr;function Fr(r,e){return ve(r,_t(r),e)}function xr(r){return Wt(r,Pe,_t)}var Ar=Object.prototype,Sr=Ar.hasOwnProperty;function _r(r){var e=r.length,t=new r.constructor(e);return e&&typeof r[0]=="string"&&Sr.call(r,"index")&&(t.index=r.index,t.input=r.input),t}function Or(r,e){var t=e?ut(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.byteLength)}var qr=/\w*$/;function jr(r){var e=new r.constructor(r.source,qr.exec(r));return e.lastIndex=r.lastIndex,e}var Ze=We?We.prototype:void 0,He=Ze?Ze.valueOf:void 0;function Er(r){return He?Object(He.call(r)):{}}var Tr="[object Boolean]",$r="[object Date]",Br="[object Map]",Pr="[object Number]",Ir="[object RegExp]",Nr="[object Set]",Cr="[object String]",Vr="[object Symbol]",Mr="[object ArrayBuffer]",Rr="[object DataView]",Lr="[object Float32Array]",kr="[object Float64Array]",Wr="[object Int8Array]",Dr="[object Int16Array]",zr="[object Int32Array]",Gr="[object Uint8Array]",Ur="[object Uint8ClampedArray]",Kr="[object Uint16Array]",Jr="[object Uint32Array]";function Yr(r,e,t){var n=r.constructor;switch(e){case Mr:return ut(r);case Tr:case $r:return new n(+r);case Rr:return Or(r,t);case Lr:case kr:case Wr:case Dr:case zr:case Gr:case Ur:case Kr:case Jr:return Dt(r,t);case Br:return new n;case Pr:case Cr:return new n(r);case Ir:return jr(r);case Nr:return new n;case Vr:return Er(r)}}var Zr="[object Map]";function Hr(r){return dt(r)&&Ie(r)==Zr}var Qe=de&&de.isMap,Qr=Qe?ct(Qe):Hr;const Xr=Qr;var en="[object Set]";function tn(r){return dt(r)&&Ie(r)==en}var Xe=de&&de.isSet,rn=Xe?ct(Xe):tn;const nn=rn;var an=1,on=2,sn=4,Ot="[object Arguments]",ln="[object Array]",fn="[object Boolean]",un="[object Date]",dn="[object Error]",qt="[object Function]",cn="[object GeneratorFunction]",pn="[object Map]",gn="[object Number]",jt="[object Object]",mn="[object RegExp]",vn="[object Set]",yn="[object String]",bn="[object Symbol]",hn="[object WeakMap]",wn="[object ArrayBuffer]",Fn="[object DataView]",xn="[object Float32Array]",An="[object Float64Array]",Sn="[object Int8Array]",_n="[object Int16Array]",On="[object Int32Array]",qn="[object Uint8Array]",jn="[object Uint8ClampedArray]",En="[object Uint16Array]",Tn="[object Uint32Array]",O={};O[Ot]=O[ln]=O[wn]=O[Fn]=O[fn]=O[un]=O[xn]=O[An]=O[Sn]=O[_n]=O[On]=O[pn]=O[gn]=O[jt]=O[mn]=O[vn]=O[yn]=O[bn]=O[qn]=O[jn]=O[En]=O[Tn]=!0;O[dn]=O[qt]=O[hn]=!1;function fe(r,e,t,n,i,a){var o,s=e&an,l=e&on,b=e&sn;if(t&&(o=i?t(r,n,i,a):t(r)),o!==void 0)return o;if(!zt(r))return r;var c=st(r);if(c){if(o=_r(r),!s)return Gt(r,o)}else{var m=Ie(r),w=m==qt||m==cn;if(Ut(r))return Kt(r,s);if(m==jt||m==Ot||w&&!i){if(o=l||w?{}:Jt(r),!s)return l?Fr(r,yr(o,r)):br(r,vr(o,r))}else{if(!O[m])return i?r:{};o=Yr(r,m,s)}}a||(a=new Yt);var y=a.get(r);if(y)return y;a.set(r,o),nn(r)?r.forEach(function(p){o.add(fe(p,e,t,p,r,a))}):Xr(r)&&r.forEach(function(p,f){o.set(f,fe(p,e,t,f,r,a))});var A=b?l?xr:Zt:l?Pe:lt,u=c?void 0:A(r);return mr(u||r,function(p,f){u&&(f=p,p=r[f]),Ht(o,f,fe(p,e,t,f,r,a))}),o}var $n=4;function et(r){return fe(r,$n)}const Bn=ye({size:{type:String,values:pt},disabled:Boolean}),Pn=ye({...Bn,model:Object,rules:{type:ce(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),In={validate:(r,e,t)=>(Qt(r)||Se(r))&&gt(e)&&Se(t)};function Nn(){const r=k([]),e=q(()=>{if(!r.value.length)return"0";const a=Math.max(...r.value);return a?`${a}px`:""});function t(a){const o=r.value.indexOf(a);return o===-1&&e.value,o}function n(a,o){if(a&&o){const s=t(o);r.value.splice(s,1,a)}else a&&r.value.push(a)}function i(a){const o=t(a);o>-1&&r.value.splice(o,1)}return{autoLabelWidth:e,registerLabelWidth:n,deregisterLabelWidth:i}}const oe=(r,e)=>{const t=Oe(e);return t.length>0?r.filter(n=>n.prop&&t.includes(n.prop)):r},Cn="ElForm",Vn=R({name:Cn}),Mn=R({...Vn,props:Pn,emits:In,setup(r,{expose:e,emit:t}){const n=r,i=[],a=Ne(),o=Q("form"),s=q(()=>{const{labelPosition:h,inline:d}=n;return[o.b(),o.m(a.value||"default"),{[o.m(`label-${h}`)]:h,[o.m("inline")]:d}]}),l=h=>{i.push(h)},b=h=>{h.prop&&i.splice(i.indexOf(h),1)},c=(h=[])=>{n.model&&oe(i,h).forEach(d=>d.resetField())},m=(h=[])=>{oe(i,h).forEach(d=>d.clearValidate())},w=q(()=>!!n.model),y=h=>{if(i.length===0)return[];const d=oe(i,h);return d.length?d:[]},A=async h=>p(void 0,h),u=async(h=[])=>{if(!w.value)return!1;const d=y(h);if(d.length===0)return!0;let x={};for(const _ of d)try{await _.validate("")}catch(j){x={...x,...j}}return Object.keys(x).length===0?!0:Promise.reject(x)},p=async(h=[],d)=>{const x=!vt(d);try{const _=await u(h);return _===!0&&(d==null||d(_)),_}catch(_){if(_ instanceof Error)throw _;const j=_;return n.scrollToError&&f(Object.keys(j)[0]),d==null||d(!1,j),x&&Promise.reject(j)}},f=h=>{var d;const x=oe(i,h)[0];x&&((d=x.$el)==null||d.scrollIntoView(n.scrollIntoViewOptions))};return pe(()=>n.rules,()=>{n.validateOnRuleChange&&A().catch(h=>Xt())},{deep:!0}),Ce(Me,Ve({...mt(n),emit:t,resetFields:c,clearValidate:m,validateField:p,addField:l,removeField:b,...Nn()})),e({validate:A,validateField:p,resetFields:c,clearValidate:m,scrollToField:f}),(h,d)=>(V(),re("form",{class:W(v(s))},[D(h.$slots,"default")],2))}});var Rn=be(Mn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function G(){return G=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},G.apply(this,arguments)}function Ln(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,ie(r,e)}function qe(r){return qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qe(r)}function ie(r,e){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ie(r,e)}function kn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ue(r,e,t){return kn()?ue=Reflect.construct.bind():ue=function(i,a,o){var s=[null];s.push.apply(s,a);var l=Function.bind.apply(i,s),b=new l;return o&&ie(b,o.prototype),b},ue.apply(null,arguments)}function Wn(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function je(r){var e=typeof Map=="function"?new Map:void 0;return je=function(n){if(n===null||!Wn(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return ue(n,arguments,qe(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),ie(i,n)},je(r)}var Dn=/%[sdj%]/g,zn=function(){};typeof process<"u"&&process.env;function Ee(r){if(!r||!r.length)return null;var e={};return r.forEach(function(t){var n=t.field;e[n]=e[n]||[],e[n].push(t)}),e}function P(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var i=0,a=t.length;if(typeof r=="function")return r.apply(null,t);if(typeof r=="string"){var o=r.replace(Dn,function(s){if(s==="%%")return"%";if(i>=a)return s;switch(s){case"%s":return String(t[i++]);case"%d":return Number(t[i++]);case"%j":try{return JSON.stringify(t[i++])}catch{return"[Circular]"}break;default:return s}});return o}return r}function Gn(r){return r==="string"||r==="url"||r==="hex"||r==="email"||r==="date"||r==="pattern"}function E(r,e){return!!(r==null||e==="array"&&Array.isArray(r)&&!r.length||Gn(e)&&typeof r=="string"&&!r)}function Un(r,e,t){var n=[],i=0,a=r.length;function o(s){n.push.apply(n,s||[]),i++,i===a&&t(n)}r.forEach(function(s){e(s,o)})}function tt(r,e,t){var n=0,i=r.length;function a(o){if(o&&o.length){t(o);return}var s=n;n=n+1,s<i?e(r[s],a):t([])}a([])}function Kn(r){var e=[];return Object.keys(r).forEach(function(t){e.push.apply(e,r[t]||[])}),e}var rt=function(r){Ln(e,r);function e(t,n){var i;return i=r.call(this,"Async Validation Error")||this,i.errors=t,i.fields=n,i}return e}(je(Error));function Jn(r,e,t,n,i){if(e.first){var a=new Promise(function(w,y){var A=function(f){return n(f),f.length?y(new rt(f,Ee(f))):w(i)},u=Kn(r);tt(u,t,A)});return a.catch(function(w){return w}),a}var o=e.firstFields===!0?Object.keys(r):e.firstFields||[],s=Object.keys(r),l=s.length,b=0,c=[],m=new Promise(function(w,y){var A=function(p){if(c.push.apply(c,p),b++,b===l)return n(c),c.length?y(new rt(c,Ee(c))):w(i)};s.length||(n(c),w(i)),s.forEach(function(u){var p=r[u];o.indexOf(u)!==-1?tt(p,t,A):Un(p,t,A)})});return m.catch(function(w){return w}),m}function Yn(r){return!!(r&&r.message!==void 0)}function Zn(r,e){for(var t=r,n=0;n<e.length;n++){if(t==null)return t;t=t[e[n]]}return t}function nt(r,e){return function(t){var n;return r.fullFields?n=Zn(e,r.fullFields):n=e[t.field||r.fullField],Yn(t)?(t.field=t.field||r.fullField,t.fieldValue=n,t):{message:typeof t=="function"?t():t,fieldValue:n,field:t.field||r.fullField}}}function it(r,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];typeof n=="object"&&typeof r[t]=="object"?r[t]=G({},r[t],n):r[t]=n}}return r}var Et=function(e,t,n,i,a,o){e.required&&(!n.hasOwnProperty(e.field)||E(t,o||e.type))&&i.push(P(a.messages.required,e.fullField))},Hn=function(e,t,n,i,a){(/^\s+$/.test(t)||t==="")&&i.push(P(a.messages.whitespace,e.fullField))},se,Qn=function(){if(se)return se;var r="[a-fA-F\\d:]",e=function(x){return x&&x.includeBoundaries?"(?:(?<=\\s|^)(?="+r+")|(?<="+r+")(?=\\s|$))":""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+n+":){7}(?:"+n+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+n+":){6}(?:"+t+"|:"+n+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+n+":){5}(?::"+t+"|(?::"+n+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+n+":){4}(?:(?::"+n+"){0,1}:"+t+"|(?::"+n+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+n+":){3}(?:(?::"+n+"){0,2}:"+t+"|(?::"+n+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+n+":){2}(?:(?::"+n+"){0,3}:"+t+"|(?::"+n+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+n+":){1}(?:(?::"+n+"){0,4}:"+t+"|(?::"+n+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+n+"){0,5}:"+t+"|(?::"+n+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+t+"$)|(?:^"+i+"$)"),o=new RegExp("^"+t+"$"),s=new RegExp("^"+i+"$"),l=function(x){return x&&x.exact?a:new RegExp("(?:"+e(x)+t+e(x)+")|(?:"+e(x)+i+e(x)+")","g")};l.v4=function(d){return d&&d.exact?o:new RegExp(""+e(d)+t+e(d),"g")},l.v6=function(d){return d&&d.exact?s:new RegExp(""+e(d)+i+e(d),"g")};var b="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",m=l.v4().source,w=l.v6().source,y="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",A="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",u="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",p="(?::\\d{2,5})?",f='(?:[/?#][^\\s"]*)?',h="(?:"+b+"|www\\.)"+c+"(?:localhost|"+m+"|"+w+"|"+y+A+u+")"+p+f;return se=new RegExp("(?:^"+h+"$)","i"),se},at={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},ee={integer:function(e){return ee.number(e)&&parseInt(e,10)===e},float:function(e){return ee.number(e)&&!ee.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!ee.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(at.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(Qn())},hex:function(e){return typeof e=="string"&&!!e.match(at.hex)}},Xn=function(e,t,n,i,a){if(e.required&&t===void 0){Et(e,t,n,i,a);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=e.type;o.indexOf(s)>-1?ee[s](t)||i.push(P(a.messages.types[s],e.fullField,e.type)):s&&typeof t!==e.type&&i.push(P(a.messages.types[s],e.fullField,e.type))},ei=function(e,t,n,i,a){var o=typeof e.len=="number",s=typeof e.min=="number",l=typeof e.max=="number",b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=t,m=null,w=typeof t=="number",y=typeof t=="string",A=Array.isArray(t);if(w?m="number":y?m="string":A&&(m="array"),!m)return!1;A&&(c=t.length),y&&(c=t.replace(b,"_").length),o?c!==e.len&&i.push(P(a.messages[m].len,e.fullField,e.len)):s&&!l&&c<e.min?i.push(P(a.messages[m].min,e.fullField,e.min)):l&&!s&&c>e.max?i.push(P(a.messages[m].max,e.fullField,e.max)):s&&l&&(c<e.min||c>e.max)&&i.push(P(a.messages[m].range,e.fullField,e.min,e.max))},Y="enum",ti=function(e,t,n,i,a){e[Y]=Array.isArray(e[Y])?e[Y]:[],e[Y].indexOf(t)===-1&&i.push(P(a.messages[Y],e.fullField,e[Y].join(", ")))},ri=function(e,t,n,i,a){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||i.push(P(a.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var o=new RegExp(e.pattern);o.test(t)||i.push(P(a.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},F={required:Et,whitespace:Hn,type:Xn,range:ei,enum:ti,pattern:ri},ni=function(e,t,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(E(t,"string")&&!e.required)return n();F.required(e,t,i,o,a,"string"),E(t,"string")||(F.type(e,t,i,o,a),F.range(e,t,i,o,a),F.pattern(e,t,i,o,a),e.whitespace===!0&&F.whitespace(e,t,i,o,a))}n(o)},ii=function(e,t,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(E(t)&&!e.required)return n();F.required(e,t,i,o,a),t!==void 0&&F.type(e,t,i,o,a)}n(o)},ai=function(e,t,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(t===""&&(t=void 0),E(t)&&!e.required)return n();F.required(e,t,i,o,a),t!==void 0&&(F.type(e,t,i,o,a),F.range(e,t,i,o,a))}n(o)},oi=function(e,t,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(E(t)&&!e.required)return n();F.required(e,t,i,o,a),t!==void 0&&F.type(e,t,i,o,a)}n(o)},si=function(e,t,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(E(t)&&!e.required)return n();F.required(e,t,i,o,a),E(t)||F.type(e,t,i,o,a)}n(o)},li=function(e,t,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(E(t)&&!e.required)return n();F.required(e,t,i,o,a),t!==void 0&&(F.type(e,t,i,o,a),F.range(e,t,i,o,a))}n(o)},fi=function(e,t,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(E(t)&&!e.required)return n();F.required(e,t,i,o,a),t!==void 0&&(F.type(e,t,i,o,a),F.range(e,t,i,o,a))}n(o)},ui=function(e,t,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(t==null&&!e.required)return n();F.required(e,t,i,o,a,"array"),t!=null&&(F.type(e,t,i,o,a),F.range(e,t,i,o,a))}n(o)},di=function(e,t,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(E(t)&&!e.required)return n();F.required(e,t,i,o,a),t!==void 0&&F.type(e,t,i,o,a)}n(o)},ci="enum",pi=function(e,t,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(E(t)&&!e.required)return n();F.required(e,t,i,o,a),t!==void 0&&F[ci](e,t,i,o,a)}n(o)},gi=function(e,t,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(E(t,"string")&&!e.required)return n();F.required(e,t,i,o,a),E(t,"string")||F.pattern(e,t,i,o,a)}n(o)},mi=function(e,t,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(E(t,"date")&&!e.required)return n();if(F.required(e,t,i,o,a),!E(t,"date")){var l;t instanceof Date?l=t:l=new Date(t),F.type(e,l,i,o,a),l&&F.range(e,l.getTime(),i,o,a)}}n(o)},vi=function(e,t,n,i,a){var o=[],s=Array.isArray(t)?"array":typeof t;F.required(e,t,i,o,a,s),n(o)},Ae=function(e,t,n,i,a){var o=e.type,s=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(E(t,o)&&!e.required)return n();F.required(e,t,i,s,a,o),E(t,o)||F.type(e,t,i,s,a)}n(s)},yi=function(e,t,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(E(t)&&!e.required)return n();F.required(e,t,i,o,a)}n(o)},te={string:ni,method:ii,number:ai,boolean:oi,regexp:si,integer:li,float:fi,array:ui,object:di,enum:pi,pattern:gi,date:mi,url:Ae,hex:Ae,email:Ae,required:vi,any:yi};function Te(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var $e=Te(),ae=function(){function r(t){this.rules=null,this._messages=$e,this.define(t)}var e=r.prototype;return e.define=function(n){var i=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(typeof n!="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(a){var o=n[a];i.rules[a]=Array.isArray(o)?o:[o]})},e.messages=function(n){return n&&(this._messages=it(Te(),n)),this._messages},e.validate=function(n,i,a){var o=this;i===void 0&&(i={}),a===void 0&&(a=function(){});var s=n,l=i,b=a;if(typeof l=="function"&&(b=l,l={}),!this.rules||Object.keys(this.rules).length===0)return b&&b(null,s),Promise.resolve(s);function c(u){var p=[],f={};function h(x){if(Array.isArray(x)){var _;p=(_=p).concat.apply(_,x)}else p.push(x)}for(var d=0;d<u.length;d++)h(u[d]);p.length?(f=Ee(p),b(p,f)):b(null,s)}if(l.messages){var m=this.messages();m===$e&&(m=Te()),it(m,l.messages),l.messages=m}else l.messages=this.messages();var w={},y=l.keys||Object.keys(this.rules);y.forEach(function(u){var p=o.rules[u],f=s[u];p.forEach(function(h){var d=h;typeof d.transform=="function"&&(s===n&&(s=G({},s)),f=s[u]=d.transform(f)),typeof d=="function"?d={validator:d}:d=G({},d),d.validator=o.getValidationMethod(d),d.validator&&(d.field=u,d.fullField=d.fullField||u,d.type=o.getType(d),w[u]=w[u]||[],w[u].push({rule:d,value:f,source:s,field:u}))})});var A={};return Jn(w,l,function(u,p){var f=u.rule,h=(f.type==="object"||f.type==="array")&&(typeof f.fields=="object"||typeof f.defaultField=="object");h=h&&(f.required||!f.required&&u.value),f.field=u.field;function d(j,N){return G({},N,{fullField:f.fullField+"."+j,fullFields:f.fullFields?[].concat(f.fullFields,[j]):[j]})}function x(j){j===void 0&&(j=[]);var N=Array.isArray(j)?j:[j];!l.suppressWarning&&N.length&&r.warning("async-validator:",N),N.length&&f.message!==void 0&&(N=[].concat(f.message));var B=N.map(nt(f,s));if(l.first&&B.length)return A[f.field]=1,p(B);if(!h)p(B);else{if(f.required&&!u.value)return f.message!==void 0?B=[].concat(f.message).map(nt(f,s)):l.error&&(B=[l.error(f,P(l.messages.required,f.field))]),p(B);var z={};f.defaultField&&Object.keys(u.value).map(function(C){z[C]=f.defaultField}),z=G({},z,u.rule.fields);var X={};Object.keys(z).forEach(function(C){var I=z[C],he=Array.isArray(I)?I:[I];X[C]=he.map(d.bind(null,C))});var U=new r(X);U.messages(l.messages),u.rule.options&&(u.rule.options.messages=l.messages,u.rule.options.error=l.error),U.validate(u.value,u.rule.options||l,function(C){var I=[];B&&B.length&&I.push.apply(I,B),C&&C.length&&I.push.apply(I,C),p(I.length?I:null)})}}var _;if(f.asyncValidator)_=f.asyncValidator(f,u.value,x,u.source,l);else if(f.validator){try{_=f.validator(f,u.value,x,u.source,l)}catch(j){console.error==null||console.error(j),l.suppressValidatorError||setTimeout(function(){throw j},0),x(j.message)}_===!0?x():_===!1?x(typeof f.message=="function"?f.message(f.fullField||f.field):f.message||(f.fullField||f.field)+" fails"):_ instanceof Array?x(_):_ instanceof Error&&x(_.message)}_&&_.then&&_.then(function(){return x()},function(j){return x(j)})},function(u){c(u)},s)},e.getType=function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!te.hasOwnProperty(n.type))throw new Error(P("Unknown rule type %s",n.type));return n.type||"string"},e.getValidationMethod=function(n){if(typeof n.validator=="function")return n.validator;var i=Object.keys(n),a=i.indexOf("message");return a!==-1&&i.splice(a,1),i.length===1&&i[0]==="required"?te.required:te[this.getType(n)]||void 0},r}();ae.register=function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");te[e]=t};ae.warning=zn;ae.messages=$e;ae.validators=te;const bi=["","error","validating","success"],hi=ye({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:ce([String,Array])},required:{type:Boolean,default:void 0},rules:{type:ce([Object,Array])},error:String,validateStatus:{type:String,values:bi},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:pt}}),ot="ElLabelWrap";var wi=R({name:ot,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(r,{slots:e}){const t=ne(Me,void 0),n=ne(_e);n||er(ot,"usage: <el-form-item><label-wrap /></el-form-item>");const i=Q("form"),a=k(),o=k(0),s=()=>{var c;if((c=a.value)!=null&&c.firstElementChild){const m=window.getComputedStyle(a.value.firstElementChild).width;return Math.ceil(Number.parseFloat(m))}else return 0},l=(c="update")=>{wt(()=>{e.default&&r.isAutoWidth&&(c==="update"?o.value=s():c==="remove"&&(t==null||t.deregisterLabelWidth(o.value)))})},b=()=>l("update");return yt(()=>{b()}),bt(()=>{l("remove")}),tr(()=>b()),pe(o,(c,m)=>{r.updateAll&&(t==null||t.registerLabelWidth(c,m))}),rr(q(()=>{var c,m;return(m=(c=a.value)==null?void 0:c.firstElementChild)!=null?m:null}),b),()=>{var c,m;if(!e)return null;const{isAutoWidth:w}=r;if(w){const y=t==null?void 0:t.autoLabelWidth,A=n==null?void 0:n.hasLabel,u={};if(A&&y&&y!=="auto"){const p=Math.max(0,Number.parseInt(y,10)-o.value),f=t.labelPosition==="left"?"marginRight":"marginLeft";p&&(u[f]=`${p}px`)}return ge("div",{ref:a,class:[i.be("item","label-wrap")],style:u},[(c=e.default)==null?void 0:c.call(e)])}else return ge(ht,{ref:a},[(m=e.default)==null?void 0:m.call(e)])}}});const Fi=["role","aria-labelledby"],xi=R({name:"ElFormItem"}),Ai=R({...xi,props:hi,setup(r,{expose:e}){const t=r,n=Ft(),i=ne(Me,void 0),a=ne(_e,void 0),o=Ne(void 0,{formItem:!1}),s=Q("form-item"),l=nr().value,b=k([]),c=k(""),m=ir(c,100),w=k(""),y=k();let A,u=!1;const p=q(()=>{if((i==null?void 0:i.labelPosition)==="top")return{};const g=De(t.labelWidth||(i==null?void 0:i.labelWidth)||"");return g?{width:g}:{}}),f=q(()=>{if((i==null?void 0:i.labelPosition)==="top"||i!=null&&i.inline)return{};if(!t.label&&!t.labelWidth&&z)return{};const g=De(t.labelWidth||(i==null?void 0:i.labelWidth)||"");return!t.label&&!n.label?{marginLeft:g}:{}}),h=q(()=>[s.b(),s.m(o.value),s.is("error",c.value==="error"),s.is("validating",c.value==="validating"),s.is("success",c.value==="success"),s.is("required",he.value||t.required),s.is("no-asterisk",i==null?void 0:i.hideRequiredAsterisk),(i==null?void 0:i.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[s.m("feedback")]:i==null?void 0:i.statusIcon}]),d=q(()=>gt(t.inlineMessage)?t.inlineMessage:(i==null?void 0:i.inlineMessage)||!1),x=q(()=>[s.e("error"),{[s.em("error","inline")]:d.value}]),_=q(()=>t.prop?Se(t.prop)?t.prop:t.prop.join("."):""),j=q(()=>!!(t.label||n.label)),N=q(()=>t.for||b.value.length===1?b.value[0]:void 0),B=q(()=>!N.value&&j.value),z=!!a,X=q(()=>{const g=i==null?void 0:i.model;if(!(!g||!t.prop))return xe(g,t.prop).value}),U=q(()=>{const{required:g}=t,S=[];t.rules&&S.push(...Oe(t.rules));const $=i==null?void 0:i.rules;if($&&t.prop){const T=xe($,t.prop).value;T&&S.push(...Oe(T))}if(g!==void 0){const T=S.map((M,J)=>[M,J]).filter(([M])=>Object.keys(M).includes("required"));if(T.length>0)for(const[M,J]of T)M.required!==g&&(S[J]={...M,required:g});else S.push({required:g})}return S}),C=q(()=>U.value.length>0),I=g=>U.value.filter($=>!$.trigger||!g?!0:Array.isArray($.trigger)?$.trigger.includes(g):$.trigger===g).map(({trigger:$,...T})=>T),he=q(()=>U.value.some(g=>g.required)),Pt=q(()=>{var g;return m.value==="error"&&t.showMessage&&((g=i==null?void 0:i.showMessage)!=null?g:!0)}),Re=q(()=>`${t.label||""}${(i==null?void 0:i.labelSuffix)||""}`),K=g=>{c.value=g},It=g=>{var S,$;const{errors:T,fields:M}=g;(!T||!M)&&console.error(g),K("error"),w.value=T?($=(S=T==null?void 0:T[0])==null?void 0:S.message)!=null?$:`${t.prop} is required`:"",i==null||i.emit("validate",t.prop,!1,w.value)},Nt=()=>{K("success"),i==null||i.emit("validate",t.prop,!0,"")},Ct=async g=>{const S=_.value;return new ae({[S]:g}).validate({[S]:X.value},{firstFields:!0}).then(()=>(Nt(),!0)).catch(T=>(It(T),Promise.reject(T)))},Le=async(g,S)=>{if(u||!t.prop)return!1;const $=vt(S);if(!C.value)return S==null||S(!1),!1;const T=I(g);return T.length===0?(S==null||S(!0),!0):(K("validating"),Ct(T).then(()=>(S==null||S(!0),!0)).catch(M=>{const{fields:J}=M;return S==null||S(!1,J),$?!1:Promise.reject(J)}))},we=()=>{K(""),w.value="",u=!1},ke=async()=>{const g=i==null?void 0:i.model;if(!g||!t.prop)return;const S=xe(g,t.prop);u=!0,S.value=et(A),await wt(),we(),u=!1},Vt=g=>{b.value.includes(g)||b.value.push(g)},Mt=g=>{b.value=b.value.filter(S=>S!==g)};pe(()=>t.error,g=>{w.value=g||"",K(g?"error":"")},{immediate:!0}),pe(()=>t.validateStatus,g=>K(g||""));const Fe=Ve({...mt(t),$el:y,size:o,validateState:c,labelId:l,inputIds:b,isGroup:B,hasLabel:j,addInputId:Vt,removeInputId:Mt,resetField:ke,clearValidate:we,validate:Le});return Ce(_e,Fe),yt(()=>{t.prop&&(i==null||i.addField(Fe),A=et(X.value))}),bt(()=>{i==null||i.removeField(Fe)}),e({size:o,validateMessage:w,validateState:c,validate:Le,clearValidate:we,resetField:ke}),(g,S)=>{var $;return V(),re("div",{ref_key:"formItemRef",ref:y,class:W(v(h)),role:v(B)?"group":void 0,"aria-labelledby":v(B)?v(l):void 0},[ge(v(wi),{"is-auto-width":v(p).width==="auto","update-all":(($=v(i))==null?void 0:$.labelWidth)==="auto"},{default:H(()=>[v(j)?(V(),Z(le(v(N)?"label":"div"),{key:0,id:v(l),for:v(N),class:W(v(s).e("label")),style:ze(v(p))},{default:H(()=>[D(g.$slots,"label",{label:v(Re)},()=>[ar(Ge(v(Re)),1)])]),_:3},8,["id","for","class","style"])):me("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),Ue("div",{class:W(v(s).e("content")),style:ze(v(f))},[D(g.$slots,"default"),ge(or,{name:`${v(s).namespace.value}-zoom-in-top`},{default:H(()=>[v(Pt)?D(g.$slots,"error",{key:0,error:w.value},()=>[Ue("div",{class:W(v(x))},Ge(w.value),3)]):me("v-if",!0)]),_:3},8,["name"])],6)],10,Fi)}}});var Tt=be(Ai,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const Ci=xt(Rn,{FormItem:Tt}),Vi=At(Tt),$t=Symbol("buttonGroupContextKey"),Si=(r,e)=>{sr({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},q(()=>r.type==="text"));const t=ne($t,void 0),n=lr("button"),{form:i}=fr(),a=Ne(q(()=>t==null?void 0:t.size)),o=St(),s=k(),l=Ft(),b=q(()=>r.type||(t==null?void 0:t.type)||""),c=q(()=>{var A,u,p;return(p=(u=r.autoInsertSpace)!=null?u:(A=n.value)==null?void 0:A.autoInsertSpace)!=null?p:!1}),m=q(()=>r.tag==="button"?{ariaDisabled:o.value||r.loading,disabled:o.value||r.loading,autofocus:r.autofocus,type:r.nativeType}:{}),w=q(()=>{var A;const u=(A=l.default)==null?void 0:A.call(l);if(c.value&&(u==null?void 0:u.length)===1){const p=u[0];if((p==null?void 0:p.type)===ur){const f=p.children;return/^\p{Unified_Ideograph}{2}$/u.test(f.trim())}}return!1});return{_disabled:o,_size:a,_type:b,_ref:s,_props:m,shouldAddSpace:w,handleClick:A=>{r.nativeType==="reset"&&(i==null||i.resetFields()),e("click",A)}}},_i=["default","primary","success","warning","info","danger","text",""],Oi=["button","submit","reset"],Be=ye({size:dr,disabled:Boolean,type:{type:String,values:_i,default:""},icon:{type:Ke},nativeType:{type:String,values:Oi,default:"button"},loading:Boolean,loadingIcon:{type:Ke,default:()=>cr},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:ce([String,Object]),default:"button"}}),qi={click:r=>r instanceof MouseEvent};function L(r,e=20){return r.mix("#141414",e).toString()}function ji(r){const e=St(),t=Q("button");return q(()=>{let n={};const i=r.color;if(i){const a=new pr(i),o=r.dark?a.tint(20).toString():L(a,20);if(r.plain)n=t.cssVarBlock({"bg-color":r.dark?L(a,90):a.tint(90).toString(),"text-color":i,"border-color":r.dark?L(a,50):a.tint(50).toString(),"hover-text-color":`var(${t.cssVarName("color-white")})`,"hover-bg-color":i,"hover-border-color":i,"active-bg-color":o,"active-text-color":`var(${t.cssVarName("color-white")})`,"active-border-color":o}),e.value&&(n[t.cssVarBlockName("disabled-bg-color")]=r.dark?L(a,90):a.tint(90).toString(),n[t.cssVarBlockName("disabled-text-color")]=r.dark?L(a,50):a.tint(50).toString(),n[t.cssVarBlockName("disabled-border-color")]=r.dark?L(a,80):a.tint(80).toString());else{const s=r.dark?L(a,30):a.tint(30).toString(),l=a.isDark()?`var(${t.cssVarName("color-white")})`:`var(${t.cssVarName("color-black")})`;if(n=t.cssVarBlock({"bg-color":i,"text-color":l,"border-color":i,"hover-bg-color":s,"hover-text-color":l,"hover-border-color":s,"active-bg-color":o,"active-border-color":o}),e.value){const b=r.dark?L(a,50):a.tint(50).toString();n[t.cssVarBlockName("disabled-bg-color")]=b,n[t.cssVarBlockName("disabled-text-color")]=r.dark?"rgba(255, 255, 255, 0.5)":`var(${t.cssVarName("color-white")})`,n[t.cssVarBlockName("disabled-border-color")]=b}}}return n})}const Ei=R({name:"ElButton"}),Ti=R({...Ei,props:Be,emits:qi,setup(r,{expose:e,emit:t}){const n=r,i=ji(n),a=Q("button"),{_ref:o,_size:s,_type:l,_disabled:b,_props:c,shouldAddSpace:m,handleClick:w}=Si(n,t);return e({ref:o,size:s,type:l,disabled:b,shouldAddSpace:m}),(y,A)=>(V(),Z(le(y.tag),gr({ref_key:"_ref",ref:o},v(c),{class:[v(a).b(),v(a).m(v(l)),v(a).m(v(s)),v(a).is("disabled",v(b)),v(a).is("loading",y.loading),v(a).is("plain",y.plain),v(a).is("round",y.round),v(a).is("circle",y.circle),v(a).is("text",y.text),v(a).is("link",y.link),v(a).is("has-bg",y.bg)],style:v(i),onClick:v(w)}),{default:H(()=>[y.loading?(V(),re(ht,{key:0},[y.$slots.loading?D(y.$slots,"loading",{key:0}):(V(),Z(v(Je),{key:1,class:W(v(a).is("loading"))},{default:H(()=>[(V(),Z(le(y.loadingIcon)))]),_:1},8,["class"]))],64)):y.icon||y.$slots.icon?(V(),Z(v(Je),{key:1},{default:H(()=>[y.icon?(V(),Z(le(y.icon),{key:0})):D(y.$slots,"icon",{key:1})]),_:3})):me("v-if",!0),y.$slots.default?(V(),re("span",{key:2,class:W({[v(a).em("text","expand")]:v(m)})},[D(y.$slots,"default")],2)):me("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var $i=be(Ti,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const Bi={size:Be.size,type:Be.type},Pi=R({name:"ElButtonGroup"}),Ii=R({...Pi,props:Bi,setup(r){const e=r;Ce($t,Ve({size:Ye(e,"size"),type:Ye(e,"type")}));const t=Q("button");return(n,i)=>(V(),re("div",{class:W(`${v(t).b("group")}`)},[D(n.$slots,"default")],2))}});var Bt=be(Ii,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const Mi=xt($i,{ButtonGroup:Bt});At(Bt);export{Vi as E,Mi as a,Ci as b};
